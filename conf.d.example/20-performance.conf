# Runtime tuning for API-heavy forward proxy traffic.
cache_mem 512 MB
maximum_object_size_in_memory 1024 KB
# Enable on-disk cache (size in MB). Uses mounted host path /var/spool/squid.
cache_dir ufs /var/spool/squid 2048 16 256

# Rule: workers count should not exceed available CPU cores.
# For ufs disk cache, keep single worker to avoid "No cache_dir stores are configured" in SMP mode.
pinger_enable off
workers 1

# Fail faster on bad upstream paths and stale DNS.
connect_timeout 15 seconds
dns_timeout 8 seconds
positive_dns_ttl 1 hour
negative_dns_ttl 30 seconds
